{% load staticfiles %}
<html>
    <head>
        <title>E-Learning System - Sign Up</title>
        <meta charset='UTF-8'>
        <script src="{% static 'js/jquery.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'js/highcharts.js' %}" type='text/javascript'></script>
        <script src="{% static 'js/bootstrap.min.js' %}" type='text/javascript'></script>
        <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.min.css'%}">
        <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap-theme.min.css'%}">
        <link rel="stylesheet" type="text/css" href="{% static 'css/justified-nav.css'%}">
        <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
        <script type="text/javascript">
            function add_error(str)
            {
                $('#error_div').html("<center><div class='alert alert-danger alert-dismissable'> <button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;</button> <strong>Error!</strong> "+str+" </div> </center>");
            }
            function check_form()
            {
                var id = document.forms["signup_form"]["username"].value;
                if(id == "")
                {
                    add_error("Please Enter Your Username");
                    $("#username").css('box-shadow','0px 0px 10px red');
                    return false;
                }
                
                var email = document.forms["signup_form"]["email"].value;
                if(email == "")
                {
                    add_error("Please Enter Your Email ID");
                    $("#email").css('box-shadow','0px 0px 10px red');
                    return false;
                }
                var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                if (re.test(email) == false)
                {
                    add_error('In-valid Email Address !!');
                    return false;
                }
                
                var pass = document.forms["signup_form"]["password1"].value;
                if(pass == "")
                {
                    add_error("Please Enter Your Password");
                    $("#password1").css('box-shadow','0px 0px 10px red');
                    return false;
                }
                var password2 = document.forms["signup_form"]["password2"].value;
                if(password2 == "")
                {
                    add_error('Please Enter Confirm Password');
                    $("#password2").css('box-shadow','0px 0px 10px red');
                    return false;
                }
                
                if(pass != password2)
                {
                    add_error("Error !! The Password and Confirm Password do not match !!");
                    return false;
                }
                return true;
            }
        </script>
    </head>
    <body class="mybody">
        <a href="/login-form/" class="main_heading_link"><div id="heading" class="heading_main">
            <center>E-Learning System</center>
            </div></a>
            <div id="error_div">
            {% if error1 %}
            <center>
                <div class='alert alert-danger alert-dismissable'>
                    <button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;</button>
                    <strong>Error!</strong> Unable to Register !!</div>
            </center>
            {% endif %}
            </div>
            <div class="login_div">
            <form method="get" id= "signup_form" action="/signup_handler/" class="login_form" onsubmit="return check_form();">
                <p>
                    <label for="username">User ID:</label>
                    <input type="text" name="username" id="username" maxlength="50">
                </p>
                
                <p>
                    <label for="username">Email :</label>
                    <input type="text" name="email" id="email" maxlength="50">
                </p>

                <p>
                    <label for="password1">Password:</label>
                    <input type="password" name="password1" id="password1" maxlength="32">
                </p>
                
                <p>
                    <label for="password1">Confirm Password:</label>
                    <input type="password" name="password2" id="password2" maxlength="32">
                </p>

                <center>
                <p class="login-submit">
                    <button type="submit" class="btn btn-success" style="margin-right: 10px;">Sign Up</button>
                    <button type="reset" class="btn btn-info" style="margin-right: 10px;">Reset</button>
                </p>
                </center>
            </form>
            </div>
    </body>
</html>
